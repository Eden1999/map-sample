{"version":3,"sources":["../node_modules/@arcgis/core/chunks/_commonjsHelpers.js","../node_modules/@arcgis/core/views/webgl/FramebufferObject.js","../node_modules/@arcgis/core/chunks/builtins.js","../node_modules/@arcgis/core/views/webgl/checkWebGLError.js","../node_modules/@arcgis/core/views/webgl/Texture.js","../node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js","../node_modules/@arcgis/core/views/webgl/Renderbuffer.js"],"names":["globalThis","window","global","self","n","e","__esModule","Object","prototype","hasOwnProperty","call","default","o","path","exports","require","r","Error","s","t","getLogger","h","i","this","_context","_glName","_depthAttachment","_stencilAttachment","_colorAttachments","Map","_initialized","_desc","instanceCounter","increment","Array","isArray","attachmentPoint","texture","descriptor","set","_validateColorAttachmentPoint","_validateTextureDimensions","colorTarget","console","error","c","depthStencilTarget","_validateBufferDimensions","capabilities","depthTexture","_depthStencilTexture","getBoundFramebufferObject","_disposeColorAttachments","_disposeDepthStencilAttachments","gl","deleteFramebuffer","bindFramebuffer","decrement","get","width","height","framebufferTexture2D","FRAMEBUFFER","TEXTURE_2D","glName","delete","pixelFormat","dataType","DEPTH_STENCIL_ATTACHMENT","internalFormat","DEPTH_ATTACHMENT","framebufferRenderbuffer","RENDERBUFFER","target","a","bindTexture","copyTexSubImage2D","readPixels","forEach","resize","createFramebuffer","l","_","d","f","size","COLOR_ATTACHMENT0","u","STENCIL_ATTACHMENT","samplingMode","wrapMode","dispose","WebGLRenderbuffer","deleteRenderbuffer","clear","assert","_MAX_COLOR_ATTACHMENTS","drawBuffers","getParameter","MAX_COLOR_ATTACHMENTS","_descriptor","_samplingModeDirty","_wrapModeDirty","flipped","hasMipmap","isOpaque","unpackAlignment","preMultiplyAlpha","setData","unbindTextureAllUnits","deleteTexture","createTexture","getBoundTexture","p","_validateTexture","pixelStorei","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","ImageData","HTMLImageElement","HTMLCanvasElement","HTMLVideoElement","videoWidth","videoHeight","texImage2D","generateMipmap","DEPTH24_STENCIL8","DEPTH_STENCIL","type","Math","round","log","max","LN2","levels","length","min","compressedTexImage2D","_applySamplingMode","_applyWrapMode","_applyAnisotropicFilteringParameters","texSubImage2D","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","maxAnisotropy","textureFilterAnisotropic","texParameterf","TEXTURE_MAX_ANISOTROPY","WebGL2RenderingContext","createRenderbuffer","bindRenderbuffer","renderbufferStorage"],"mappings":"yHAAA,kHAIM,oBAAoBA,WAAWA,WAAW,oBAAoBC,OAAOA,OAAO,oBAAoBC,GAAc,oBAAoBC,MAAKA,KAAQ,SAASC,EAAEC,GAAG,OAAOA,GAAGA,EAAEC,YAAYC,OAAOC,UAAUC,eAAeC,KAAKL,EAAE,WAAWA,EAAEM,QAAQN,EAAE,SAASO,EAAEP,EAAED,EAAEQ,GAAG,OAAOP,EAAEO,EAAE,CAACC,KAAKT,EAAEU,QAAQ,GAAGC,QAAQ,SAASV,EAAED,GAAG,OAAOY,EAAI,MAAMZ,GAAEQ,EAAEC,QAAUD,EAAEE,SAASF,EAAEE,QAAQ,SAASE,IAAI,MAAM,IAAIC,MAAM,8E,wHCA/QC,EAAEC,IAAEC,UAAU,sCAA4CJ,E,WAAE,WAAYG,EAAED,EAAEG,EAAEjB,GAA6M,IAAIkB,EAAMV,EAApN,GAAD,oBAAIW,KAAKC,SAASL,EAAEI,KAAKE,QAAQ,KAAKF,KAAKG,iBAAiB,KAAKH,KAAKI,mBAAmB,KAAKJ,KAAKK,kBAAkB,IAAIC,IAAIN,KAAKO,cAAa,EAAGP,KAAKQ,MAAL,eAAeb,GAAGC,EAAEa,gBAAgBC,UAAU,EAAEV,MAAMF,EAAe,GAAGa,MAAMC,QAAQd,GAAjB,qBAAmCA,GAAnC,IAAoB,2BAAiB,KAAPH,EAAO,QAAuBF,EAAaE,EAA7BkB,gBAA0Bf,EAAGH,EAAXmB,QAAajC,EAAEiB,aAAahB,IAAEgB,EAAE,IAAIhB,IAAEc,EAAEE,GAAGC,EAAElB,EAAEkC,WAAWf,KAAKK,kBAAkBW,IAAIvB,EAAEZ,GAAGmB,KAAKiB,8BAA8BxB,GAAGO,KAAKkB,2BAA2BnB,EAAEC,KAAKQ,QAArO,oCAAiPV,aAAahB,KAAGiB,EAAED,EAAEiB,WAAWf,KAAKK,kBAAkBW,IAAI,MAAMlB,KAAKC,EAAED,EAAEE,KAAKK,kBAAkBW,IAAI,MAAM,IAAIlC,IAAEc,EAAEE,KAAK,KAAK,OAAOT,EAAEW,KAAKQ,YAAO,EAAOnB,EAAE8B,cAAcC,QAAQC,MAAM,qHAAqHrB,KAAKkB,2BAA2BnB,EAAEC,KAAKQ,OAAO,GAAG3B,aAAakB,IAAE,CAAC,IAAIuB,EAAQ1B,EAAE,OAAO0B,EAAEtB,KAAKQ,MAAMe,oBAAoBD,EAAE,EAAE,IAAI1B,EAAEI,KAAKI,mBAAmBvB,EAAE,IAAIe,GAAG,IAAIA,EAAEI,KAAKG,iBAAiBtB,EAAEuC,QAAQC,MAAM,gJAAgJ5B,EAAE+B,0BAA0B3C,EAAEkC,WAAWf,KAAKQ,YAAY,GAAG3B,EAAE,CAAC,IAAIe,EAAEI,KAAKC,SAASwB,aAAaC,cAAcN,QAAQC,MAAM,gIAAgIxC,aAAaC,KAAGkB,KAAK2B,qBAAqB9C,EAAEe,EAAEI,KAAK2B,qBAAqBZ,aAAanB,EAAEf,EAAEmB,KAAK2B,qBAAqB,IAAI7C,IAAEkB,KAAKC,SAASL,IAAII,KAAKkB,2BAA2BtB,EAAEI,KAAKQ,Q,2CAAQ,WAAU,GAAIR,KAAKQ,MAAT,CAAsB,IAAMZ,EAAEI,KAAKC,SAAS2B,4BAA+B5B,KAAK6B,2BAA2B7B,KAAK8B,kCAAkC9B,KAAKE,UAASF,KAAKC,SAAS8B,GAAGC,kBAAkBhC,KAAKE,SAASF,KAAKE,QAAQ,MAAKF,KAAKC,SAASgC,gBAAgBrC,GAAGI,KAAKC,SAASQ,gBAAgByB,UAAU,EAAElC,MAAMA,KAAKQ,MAAM,Q,kBAAK,WAAa,OAAOR,KAAKE,U,sBAAQ,WAAiB,OAAOF,KAAKQ,Q,wBAAM,WAAmB,IAAMZ,EAAEI,KAAKK,kBAAkB8B,IAAI,OAAO,OAAOvC,GAAGA,aAAad,IAAEc,EAAE,O,2BAAK,WAAsB,OAAOI,KAAKK,kBAAkB8B,IAAI,S,kCAAO,WAA6B,OAAOnC,KAAK2B,sBAAsB3B,KAAKG,kBAAkBH,KAAKI,qB,+BAAmB,WAA0B,OAAOJ,KAAK2B,uB,iBAAqB,WAAY,OAAO3B,KAAKQ,MAAM4B,Q,kBAAM,WAAa,OAAOpC,KAAKQ,MAAM6B,S,6BAAO,SAAgBzC,GAAG,IAAMG,EAAEC,KAAKK,kBAAkB8B,IAAIvC,GAAG,OAAOG,GAAGA,aAAajB,IAAEiB,EAAE,O,gCAAK,SAAmBH,GAAU,IAARd,EAAQ,uDAAN,MAAO,GAAIc,EAAJ,CAAaI,KAAKiB,8BAA8BnC,GAAG,IAAMiB,EAAEH,EAAEmB,WAAW,GAAGf,KAAKkB,2BAA2BnB,EAAEC,KAAKQ,OAAOR,KAAK6B,2BAA2B7B,KAAKO,aAAa,CAACP,KAAKC,SAASgC,gBAAgBjC,MAAM,IAAMD,EAAEC,KAAKC,SAAS8B,GAAGhC,EAAEuC,qBAAqBvC,EAAEwC,YAAYzD,EAAEiB,EAAEyC,WAAW5C,EAAE6C,OAAO,GAAGzC,KAAKK,kBAAkBW,IAAIlC,EAAEc,M,gCAAG,WAA2B,IAARA,EAAQ,uDAAN,MAAaG,EAAEC,KAAKK,kBAAkB8B,IAAIvC,GAAG,GAAGG,aAAajB,IAAE,CAAC,IAAMA,EAAEiB,EAAE,GAAGC,KAAKO,aAAa,CAACP,KAAKC,SAASgC,gBAAgBjC,MAAM,IAAMlB,EAAEkB,KAAKC,SAAS8B,GAAGjD,EAAEwD,qBAAqBxD,EAAEyD,YAAY3C,EAAEd,EAAE0D,WAAW,KAAK,GAAG,OAAOxC,KAAKK,kBAAkBqC,OAAO9C,GAAGd,K,uCAAG,SAA0Bc,GAAG,GAAIA,EAAJ,CAAa,IAAMd,EAAEc,EAAEmB,WAAW,GAAG,QAAQjC,EAAE6D,aAAavB,QAAQC,MAAM,kEAAkE,QAAQvC,EAAE8D,UAAUxB,QAAQC,MAAM,mEAAmErB,KAAKC,SAASwB,aAAaC,cAAcN,QAAQC,MAAM,+GAA+GrB,KAAKkB,2BAA2BpC,EAAEkB,KAAKQ,OAAOR,KAAKQ,MAAMe,oBAAoB,IAAIvB,KAAKQ,MAAMe,qBAAqBvB,KAAKQ,MAAMe,mBAAmB,GAAGvB,KAAK8B,kCAAkC9B,KAAKO,aAAa,CAACP,KAAKC,SAASgC,gBAAgBjC,MAAM,IAAMlB,EAAEkB,KAAKC,SAAS8B,GAAGjD,EAAEwD,qBAAqBxD,EAAEyD,YAAYzD,EAAE+D,yBAAyB/D,EAAE0D,WAAW5C,EAAE6C,OAAO,GAAGzC,KAAK2B,qBAAqB/B,K,uCAAE,WAA4B,IAAMA,EAAEI,KAAK2B,qBAAqB,GAAG/B,GAAGI,KAAKO,aAAa,CAACP,KAAKC,SAASgC,gBAAgBjC,MAAM,IAAMJ,EAAEI,KAAKC,SAAS8B,GAAG/B,KAAKC,SAAS8B,GAAGO,qBAAqB1C,EAAE2C,YAAY3C,EAAEiD,yBAAyBjD,EAAE4C,WAAW,KAAK,GAAG,OAAOxC,KAAK2B,qBAAqB,KAAK/B,I,sCAAE,SAAyBA,GAAG,GAAIA,EAAJ,CAAa,IAAMd,EAAEc,EAAEmB,WAAW,GAAG,QAAQjC,EAAEgE,gBAAgB,QAAQhE,EAAEgE,gBAAgB1B,QAAQC,MAAM,yDAAyD5B,EAAE+B,0BAA0B1C,EAAEkB,KAAKQ,OAAOR,KAAK8B,kCAAkC9B,KAAKQ,MAAMe,mBAAmB,QAAQzC,EAAEgE,eAAe,EAAE,EAAE9C,KAAKO,aAAa,CAACP,KAAKC,SAASgC,gBAAgBjC,MAAM,IAAMlB,EAAEkB,KAAKC,SAAS8B,GAAGhC,EAAE,IAAIC,KAAKQ,MAAMe,mBAAmBzC,EAAEiE,iBAAiBjE,EAAE+D,yBAAyB/D,EAAEkE,wBAAwBlE,EAAEyD,YAAYxC,EAAEjB,EAAEmE,aAAarD,EAAE6C,QAAQzC,KAAKG,iBAAiBP,K,sCAAE,WAA2B,IAAMA,EAAEI,KAAKC,SAAS8B,GAAGjD,EAAEkB,KAAKG,iBAAiB,GAAGrB,GAAGkB,KAAKO,aAAa,CAACP,KAAKC,SAASgC,gBAAgBjC,MAAM,IAAMlB,EAAE,IAAIkB,KAAKQ,MAAMe,mBAAmB3B,EAAEmD,iBAAiBnD,EAAEiD,yBAAyBjD,EAAEoD,wBAAwBpD,EAAE2C,YAAYzD,EAAEc,EAAEqD,aAAa,MAAM,OAAOjD,KAAKG,iBAAiB,KAAKrB,I,2BAAE,SAAcc,EAAEd,EAAEiB,EAAEJ,EAAEF,EAAEK,EAAEjB,IAAIe,EAAE,GAAGd,EAAE,GAAGW,EAAE,GAAGK,EAAE,IAAIsB,QAAQC,MAAM,gCAAgCtB,GAAG,GAAGJ,GAAG,IAAIyB,QAAQC,MAAM,oDAAoD,IAAMhC,EAAEW,KAAKQ,MAAMc,EAAEzC,EAAEkC,WAAW,OAAOlC,EAAEkC,WAAWmC,QAAQ9B,QAAQC,MAAM,uCAAuCzB,EAAEG,EAAEV,EAAE+C,OAAOtD,EAAEa,EAAEN,EAAEgD,QAAQ5C,EAAEM,EAAEuB,EAAEc,OAAOtC,EAAEH,EAAE2B,EAAEe,SAASjB,QAAQC,MAAM,wFAAwF,IAAM8B,EAAEnD,KAAKC,SAASkD,EAAEC,YAAYvE,EAAE,GAAGsE,EAAElB,gBAAgBjC,MAAMmD,EAAEpB,GAAGsB,kBAAkB,KAAK,EAAE5D,EAAEK,EAAEF,EAAEd,EAAEiB,EAAEJ,K,wBAAG,SAAWC,EAAEd,EAAEiB,EAAEJ,EAAEF,EAAEK,EAAEjB,IAAIkB,GAAG,GAAGJ,GAAG,IAAIyB,QAAQC,MAAM,oDAAoDxC,GAAGuC,QAAQC,MAAM,qCAAqCrB,KAAKC,SAASgC,gBAAgBjC,MAAMA,KAAKC,SAAS8B,GAAGuB,WAAW1D,EAAEd,EAAEiB,EAAEJ,EAAEF,EAAEK,EAAEjB,K,oBAAG,SAAOe,EAAEd,GAAG,IAAMiB,EAAEC,KAAKQ,MAAM,GAAGT,EAAEqC,QAAQxC,GAAGG,EAAEsC,SAASvD,EAAE,CAAC,IAAIkB,KAAKO,aAAa,OAAOR,EAAEqC,MAAMxC,EAAEG,EAAEsC,OAAOvD,EAAEkB,KAAKK,kBAAkBkD,SAAS,SAAAxD,GAAIA,GAAGA,EAAEyD,OAAO5D,EAAEd,WAAWkB,KAAK2B,sBAAsB3B,KAAK2B,qBAAqB6B,OAAO5D,EAAEd,IAAIiB,EAAEqC,MAAMxC,EAAEG,EAAEsC,OAAOvD,EAAEkB,KAAKK,kBAAkBkD,SAAS,SAAAxD,GAAIA,GAAGA,EAAEyD,OAAO5D,EAAEd,MAAM,MAAMkB,KAAK2B,qBAAqB3B,KAAK2B,qBAAqB6B,OAAO5D,EAAEd,IAAIkB,KAAKG,kBAAkBH,KAAKI,sBAAsBJ,KAAKG,kBAAkBH,KAAKG,iBAAiBqD,OAAO5D,EAAEd,GAAGkB,KAAKI,oBAAoBJ,KAAKI,mBAAmBoD,OAAO5D,EAAEd,IAAIkB,KAAKC,SAAS2B,8BAA8B5B,MAAMA,KAAKC,SAASgC,gBAAgB,MAAMjC,KAAKO,cAAa,K,+BAAI,WAAoB,IAAIX,EAAED,EAAEF,EAAEZ,EAAQQ,EAAEW,KAAKC,SAAS8B,GAAG,GAAG/B,KAAKO,aAAyBlB,EAAE4C,gBAAgB5C,EAAEkD,YAAYvC,KAAKyC,YAAtE,CAA8EzC,KAAKE,SAASb,EAAE2C,kBAAkBhC,KAAKE,SAAS,IAAMoB,EAAEtB,KAAKC,SAASkD,EAAE9D,EAAEoE,oBAAoBC,EAAE1D,KAAKQ,MAAMmD,EAAE,OAAO/D,EAAE8D,EAAEvC,aAAavB,EAAE,EAAEgE,EAAE,OAAOjE,EAAE+D,EAAEtB,OAAOzC,EAAE,EAAEkE,EAAE,OAAOpE,EAAEiE,EAAErB,QAAQ5C,EAAE,EAAE,GAAGJ,EAAE4C,gBAAgB5C,EAAEkD,YAAYY,GAAG,IAAInD,KAAKK,kBAAkByD,KAAK,GAAG,IAAIH,EAAE3D,KAAKK,kBAAkBW,IAAI,MAAMlB,EAAEwB,EAAEoC,QAAQ,CAAC,IAAM9D,EAAE,IAAIG,IAAEuB,EAAE,CAACwB,eAAe,MAAMV,MAAMwB,EAAEvB,OAAOwB,IAAI7D,KAAKK,kBAAkBW,IAAI,MAAMpB,GAAGI,KAAKK,kBAAkBkD,SAAS,SAAC3D,EAAEG,GAAKH,IAAIA,aAAad,IAAEO,EAAEiD,qBAAqBjD,EAAEkD,YAAYxC,EAAEV,EAAEmD,WAAW5C,EAAE6C,OAAO,GAAGpD,EAAE2D,wBAAwB3D,EAAEkD,YAAYlD,EAAE0E,kBAAkB1E,EAAE4D,aAAarD,EAAE6C,YAAY,IAAMuB,EAAE,OAAOnF,EAAE6E,EAAEnC,oBAAoB1C,EAAE,EAAE,OAAOmF,GAAG,KAAK,EAAE,KAAK,EAAGhE,KAAKG,mBAAmBH,KAAKG,iBAAiB,IAAIJ,IAAEuB,EAAE,CAACwB,eAAe,IAAIY,EAAEnC,mBAAmB,MAAM,MAAMa,MAAMwB,EAAEvB,OAAOwB,KAAK,IAAMjE,EAAE,IAAIoE,EAAE3E,EAAE0D,iBAAiB1D,EAAEwD,yBAAyBxD,EAAE2D,wBAAwB3D,EAAEkD,YAAY3C,EAAEP,EAAE4D,aAAajD,KAAKG,iBAAiBsC,QAAQ,MAAM,KAAK,EAAEzC,KAAKI,qBAAqBJ,KAAKI,mBAAmB,IAAIL,IAAEuB,EAAE,CAACwB,eAAe,MAAMV,MAAMwB,EAAEvB,OAAOwB,KAAKxE,EAAE2D,wBAAwB3D,EAAEkD,YAAYlD,EAAE4E,mBAAmB5E,EAAE4D,aAAajD,KAAKI,mBAAmBqC,QAAQ,MAAM,KAAK,EAAE,IAAIzC,KAAK2B,qBAAqB,CAACL,EAAEG,aAAaC,cAAcN,QAAQC,MAAM,gIAAgI,IAAMzB,EAAE,CAACsD,OAAO,KAAKP,YAAY,MAAMC,SAAS,MAAMsB,aAAa,KAAKC,SAAS,MAAM/B,MAAMwB,EAAEvB,OAAOwB,GAAG7D,KAAK2B,qBAAqB,IAAI7C,IAAEwC,EAAE1B,GAAGP,EAAEiD,qBAAqBjD,EAAEkD,YAAYlD,EAAEwD,yBAAyBxD,EAAEmD,WAAWxC,KAAK2B,qBAAqBc,OAAO,GAAGzC,KAAKE,QAAQiD,EAAEnD,KAAKO,cAAa,K,sCAAG,WAA0B,WAACP,KAAKK,kBAAkBkD,SAAS,SAAC3D,EAAEG,GAAK,GAAGH,aAAad,IAAE,CAAC,GAAG,EAAKyB,aAAa,CAAC,EAAKN,SAASgC,gBAAgB,GAAM,IAAMrC,EAAE,EAAKK,SAAS8B,GAAGnC,EAAE0C,qBAAqB1C,EAAE2C,YAAYxC,EAAEH,EAAE4C,WAAW,KAAK,GAAG5C,EAAEwE,eAAe,GAAGxE,aAAayE,kBAAkB,CAAC,IAAMvF,EAAE,EAAKmB,SAAS8B,GAAG,EAAKxB,eAAe,EAAKN,SAASgC,gBAAgB,GAAMnD,EAAEkE,wBAAwBlE,EAAEyD,YAAYxC,EAAEjB,EAAEmE,aAAa,OAAO,EAAKhD,SAAS8B,GAAGuC,mBAAmB1E,OAAOI,KAAKK,kBAAkBkE,U,6CAAQ,WAAkC,IAAM3E,EAAEI,KAAKC,SAAS8B,GAAG,GAAG/B,KAAKG,iBAAiB,CAAC,GAAGH,KAAKO,aAAa,CAACP,KAAKC,SAASgC,gBAAgBjC,MAAM,IAAMlB,EAAE,IAAIkB,KAAKQ,MAAMe,mBAAmB3B,EAAEmD,iBAAiBnD,EAAEiD,yBAAyBjD,EAAEoD,wBAAwBpD,EAAE2C,YAAYzD,EAAEc,EAAEqD,aAAa,MAAMjD,KAAKG,iBAAiBiE,UAAUpE,KAAKG,iBAAiB,KAAKH,KAAKI,qBAAqBJ,KAAKO,eAAeP,KAAKC,SAASgC,gBAAgBjC,MAAMJ,EAAEoD,wBAAwBpD,EAAE2C,YAAY3C,EAAEqE,mBAAmBrE,EAAEqD,aAAa,OAAOjD,KAAKI,mBAAmBgE,UAAUpE,KAAKI,mBAAmB,MAAMJ,KAAK2B,uBAAuB3B,KAAKO,eAAeP,KAAKC,SAASgC,gBAAgBjC,MAAMJ,EAAE0C,qBAAqB1C,EAAE2C,YAAY3C,EAAEiD,yBAAyBjD,EAAE4C,WAAW,KAAK,IAAIxC,KAAK2B,qBAAqByC,UAAUpE,KAAK2B,qBAAqB,Q,wCAAoS,SAA2B/B,EAAEd,GAAGsC,QAAQoD,OAAO5E,EAAEwC,OAAO,GAAGxC,EAAEyC,QAAQ,GAAG,OAAOzC,EAAEsD,QAAQ9B,QAAQC,MAAM,yCAAoC,IAASvC,EAAEsD,OAAOtD,EAAEsD,OAAO,QAAG,IAAStD,EAAEuD,QAAQvD,EAAEuD,QAAQ,EAAEvD,EAAEsD,QAAQxC,EAAEwC,OAAOtD,EAAEuD,SAASzC,EAAEyC,QAAQjB,QAAQC,MAAM,2DAA2DvC,EAAEsD,MAAMxC,EAAEwC,MAAMtD,EAAEuD,OAAOzC,EAAEyC,U,2CAAQ,SAA8BzC,GAAG,IAAI,IAAIH,EAAEgF,uBAAuB,CAAC,IAAM7E,EAAEI,KAAKC,SAASwB,aAAaiD,YAAY,GAAG9E,EAAE,CAAC,IAAMd,EAAEkB,KAAKC,SAAS8B,GAAGtC,EAAEgF,uBAAuB3F,EAAE6F,aAAa/E,EAAEgF,4BAA4BnF,EAAEgF,uBAAuB,EAAE,IAAM3F,EAAEc,EAAE,MAAMd,EAAE,EAAEW,EAAEgF,wBAAwB9E,EAAE0B,MAAM,yBAAR,yDAAmFvC,EAAE,EAArF,2CAAyHW,EAAEgF,uBAA3H,0B,wCAA15B,SAAiC7E,EAAEd,GAAGsC,QAAQoD,OAAO5E,EAAEwC,OAAO,GAAGxC,EAAEyC,QAAQ,QAAG,IAASvD,EAAEsD,OAAOtD,EAAEsD,OAAO,QAAG,IAAStD,EAAEuD,QAAQvD,EAAEuD,QAAQ,EAAEvD,EAAEsD,QAAQxC,EAAEwC,OAAOtD,EAAEuD,SAASzC,EAAEyC,QAAQjB,QAAQC,MAAM,0DAA0DvC,EAAEsD,MAAMxC,EAAEwC,MAAMtD,EAAEuD,OAAOzC,EAAEyC,Y,KAA4yB5C,EAAEgF,wBAAwB,EAAE,IAAM3E,EAAE,SAACF,EAAEG,GAAH,OAAO,IAAIjB,IAAEc,EAAE,CAACsD,OAAO,KAAKP,YAAY,KAAKC,SAAS,KAAKsB,aAAa,KAAKC,SAAS,MAAM/B,MAAMrC,EAAEqC,MAAMC,OAAOtC,EAAEsC,UAAwB5C,O,iCCJr5V,mHAI8CA,EAAEX,aAAG,SAASA,GAAG,IAAIW,OAAE,KAAUA,EAAE,CAAC,YAAY,QAAQ,UAAU,OAAO,YAAY,QAAQ,UAAU,UAAU,QAAQ,WAAW,KAAK,MAAM,QAAQ,KAAK,OAAO,KAAK,MAAM,QAAQ,QAAQ,MAAM,OAAO,OAAO,OAAO,QAAQ,UAAU,SAAS,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,YAAY,YAAY,YAAY,cAAc,kBAAkB,kBAAkB,SAAS,MAAM,QAAQ,QAAQ,OAAO,UAAU,WAAW,OAAO,SAAS,OAAO,SAAS,UAAU,SAAS,WAAW,WAAW,SAAS,SAAS,SAAS,WAAW,YAAY,OAAO,QAAQ,SAAS,OAAO,QAAQ,WAAW,QAAQ,SAAS,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,gBAAgB,gBAAgB,sBAAsB,SAAS,OAAO,YAAY,YAAYX,EAAES,QAAQE,MAAMG,EAAEd,aAAG,SAASA,GAAG,IAAIW,OAAE,KAAUA,EAAE,CAAC,MAAM,MAAM,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,QAAQX,EAAES,QAAQE,MAAMJ,EAAEP,aAAG,SAASA,GAAG,IAAIW,OAAE,KAAUA,EAAE,CAAC,MAAM,OAAO,MAAM,MAAM,OAAO,OAAO,OAAO,QAAQ,MAAM,QAAQ,OAAO,OAAO,UAAU,WAAW,MAAM,QAAQ,MAAM,OAAO,cAAc,QAAQ,QAAQ,eAAe,2BAA2B,sBAAsB,kBAAkB,wBAAwB,eAAe,gBAAgB,WAAW,gBAAgB,0BAA0B,eAAe,eAAe,eAAe,eAAe,SAAS,cAAc,kBAAkB,mBAAmB,eAAe,eAAe,cAAc,eAAe,kBAAkB,gBAAgB,iBAAiB,4BAA4B,uBAAuB,mBAAmB,yBAAyB,gBAAgB,0BAA0B,wBAAwB,mBAAmB,iBAAiB,2BAA2B,wBAAwB,mBAAmB,kCAAkC,oBAAoB,kCAAkC,eAAe,sBAAsB,0BAA0B,qBAAqB,sBAAsB,sBAAsB,gCAAgC,gCAAgC,qBAAqB,4BAA4B,qCAAqC,8BAA8B,+BAA+B,sCAAsC,+CAA+C,wCAAwC,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,YAAY,kBAAkB,iBAAiB,kBAAkB,kBAAkB,kBAAkB,kBAAkB,WAAW,gBAAgB,qBAAqB,eAAe,cAAc,sBAAsB,6BAA6B,sCAAsC,+BAA+B,oBAAoB,cAAc,qBAAqB,mBAAmB,0BAA0B,mCAAmC,4BAA4B,YAAY,cAAc,mBAAmB,cAAc,SAAS,WAAW,gBAAgB,MAAM,OAAO,iBAAiB,MAAM,MAAM,MAAM,MAAM,YAAY,MAAM,WAAW,MAAM,UAAU,UAAU,UAAU,OAAO,MAAM,aAAa,OAAO,OAAO,MAAM,YAAY,eAAe,gBAAgB,mBAAmB,cAAc,iBAAiB,kBAAkB,sBAAsB,oBAAoB,mBAAmB,uBAAuB,yBAAyBX,EAAES,QAAQE,O,iCCJxoH,0DAI0H,SAASJ,EAAEI,IAA3CA,IAAEI,UAAU,qB,mFCAmER,E,WAAE,WAAYO,EAAEd,GAAS,IAAPiB,EAAO,uDAAL,KAAK,oBAACC,KAAKC,SAAS,KAAKD,KAAKE,QAAQ,KAAKF,KAAK6E,iBAAY,EAAO7E,KAAK8E,oBAAmB,EAAG9E,KAAK+E,gBAAe,EAAGnF,EAAEa,gBAAgBC,UAAU,EAAEV,MAAMA,KAAKC,SAASL,EAAEI,KAAK6E,YAAL,aAAkB3B,OAAO,KAAKgB,aAAa,KAAKC,SAAS,MAAMa,SAAQ,EAAGC,WAAU,EAAGC,UAAS,EAAGC,gBAAgB,EAAEC,kBAAiB,GAAMtG,GAAGkB,KAAKqF,QAAQtF,G,wCAAG,WAAa,OAAOC,KAAKE,U,sBAAQ,WAAiB,OAAOF,KAAK6E,c,qBAAY,WAAU,GAAG7E,KAAKC,UAAUD,KAAKC,SAAS8B,GAAG,CAAC,GAAG/B,KAAKE,QAAQ,CAAC,IAAMN,EAAEI,KAAKC,SAAS8B,GAAG/B,KAAKC,SAASqF,sBAAsBtF,MAAMJ,EAAE2F,cAAcvF,KAAKE,SAASF,KAAKE,QAAQ,KAAKF,KAAKC,SAASQ,gBAAgByB,UAAU,EAAElC,MAAMA,KAAKC,SAAS,Q,qBAAM,WAAUD,KAAKoE,Y,oBAAU,SAAOxE,EAAEd,GAAG,IAAMiB,EAAEC,KAAK6E,YAAY9E,EAAEqC,QAAQxC,GAAGG,EAAEsC,SAASvD,IAAIiB,EAAEqC,MAAMxC,EAAEG,EAAEsC,OAAOvD,EAAEkB,KAAKqF,QAAQ,S,qBAAO,SAAQvG,GAAG,GAAIkB,KAAKC,UAAWD,KAAKC,SAAS8B,GAAlC,CAA4C,IAAMhC,EAAEC,KAAKC,SAAS8B,GAAG/B,KAAKE,UAAUF,KAAKE,QAAQH,EAAEyF,sBAAiB,IAAS1G,IAAIA,EAAE,MAAM,OAAOA,IAAIkB,KAAK6E,YAAYzC,MAAMpC,KAAK6E,YAAYzC,OAAl/B,EAA2/BpC,KAAK6E,YAAYxC,OAAOrC,KAAK6E,YAAYxC,QAApiC,GAA+iC,IAAMxD,EAAEmB,KAAKC,SAASwF,gBAAjkC,GAAolCzF,KAAKC,SAASmD,YAAYpD,KAA9mC,GAAsnC,IAAM0F,EAAE1F,KAAK6E,YAAYxF,EAAEsG,iBAAiB3F,KAAKC,SAASyF,GAAG3F,EAAE6F,YAAY7F,EAAE8F,iBAAiBH,EAAEP,iBAAiBpF,EAAE6F,YAAY7F,EAAE+F,oBAAoBJ,EAAEV,QAAQ,EAAE,GAAGjF,EAAE6F,YAAY7F,EAAEgG,+BAA+BL,EAAEN,iBAAiB,EAAE,GAAG,IAAMtF,EAAE4F,EAAE/C,YAAgBe,EAAEgC,EAAE5C,eAAe4C,EAAE5C,eAAehD,EAAE,GAAGhB,aAAakH,WAAWlH,aAAamH,kBAAkBnH,aAAaoH,mBAAmBpH,aAAaqH,iBAAiB,CAAC,IAAIvG,EAAEd,EAAEsD,MAAMe,EAAErE,EAAEuD,OAAOvD,aAAaqH,mBAAmBvG,EAAEd,EAAEsH,WAAWjD,EAAErE,EAAEuH,aAAaX,EAAEtD,OAAOsD,EAAErD,QAAQjB,QAAQoD,OAAO5E,IAAI8F,EAAEtD,OAAOe,IAAIuC,EAAErD,QAAQtC,EAAEuG,WAAWvG,EAAEyC,WAAW,EAAEkB,EAAE5D,EAAE4F,EAAE9C,SAAS9D,GAAG4G,EAAET,WAAWjF,KAAKuG,sBAAiB,IAASb,EAAEtD,QAAQsD,EAAEtD,MAAMxC,QAAG,IAAS8F,EAAErD,SAASqD,EAAErD,OAAOc,OAAO,CAAC,MAAMuC,EAAEtD,OAAO,MAAMsD,EAAErD,QAAQjB,QAAQC,MAAM,uCAAuCtB,EAAEyG,kBAAkB9C,IAAI3D,EAAE0G,gBAAgB/C,EAAE3D,EAAEyG,kBAAkB,IAAIrD,EAAEuC,EAAEtD,MAAMzC,EAAE+F,EAAErD,OAAO,GAAwvH,SAAWvD,GAAG,OAAOc,YAAEd,IAAI,SAASA,GAAG,eAAeA,EAAE4H,KAA7yHjH,CAAEX,GAAG,CAAC,IAAMc,EAAE+G,KAAKC,MAAMD,KAAKE,IAAIF,KAAKG,IAAI3D,EAAExD,IAAIgH,KAAKI,KAAK,EAAErB,EAAET,UAAUS,EAAET,WAAWrF,IAAId,EAAEkI,OAAOC,OAAO,IAAI,IAAI5H,EAAE,KAAKA,EAAE,CAAC,IAAMO,EAAEd,EAAEkI,OAAOL,KAAKO,IAAI7H,EAAEP,EAAEkI,OAAOC,OAAO,IAAI,GAAGlH,EAAEoH,qBAAqBpH,EAAEyC,WAAWnD,EAAEqE,EAAEP,EAAExD,EAAE,EAAEC,GAAG,IAAIuD,GAAG,IAAIxD,IAAI+F,EAAET,UAAU,MAAM9B,EAAEwD,KAAKG,IAAI,EAAE3D,GAAG,GAAGxD,EAAEgH,KAAKG,IAAI,EAAEnH,GAAG,SAAS,GAAGC,YAAEd,GAAGiB,EAAEuG,WAAWvG,EAAEyC,WAAW,EAAEkB,EAAEP,EAAExD,EAAE,EAAEG,EAAE4F,EAAE9C,SAAS9D,GAAG4G,EAAET,WAAWjF,KAAKuG,sBAAsB,IAAI,IAAI3G,EAAE,EAAEG,EAAEuG,WAAWvG,EAAEyC,WAAW5C,EAAE8D,EAAEP,EAAExD,EAAE,EAAEG,EAAE4F,EAAE9C,SAAS,OAAO,IAAIO,GAAG,IAAIxD,IAAI+F,EAAET,YAAYrF,EAAEuD,EAAEwD,KAAKG,IAAI,EAAE3D,GAAG,GAAGxD,EAAEgH,KAAKG,IAAI,EAAEnH,GAAG,GAAGN,EAAE+H,mBAAmBrH,EAAEC,KAAK6E,aAAaxF,EAAEgI,eAAetH,EAAEC,KAAK6E,aAAaxF,EAAEiI,qCAAqCtH,KAAKC,SAASD,KAAK6E,aAAahG,GAAGmB,KAAKC,SAASmD,YAAYvE,EAAhsF,M,wBAAqsF,SAAWe,EAAEd,EAAEiB,EAAEoD,EAAE9D,EAAEI,GAAGA,GAAG2B,QAAQC,MAAM,yCAAyCrB,KAAKE,SAASkB,QAAQC,MAAM,+CAA+C,IAAMxC,EAAEmB,KAAKC,SAAS8B,GAAG2D,EAAE1F,KAAK6E,YAAY/E,EAAEE,KAAKC,SAASwF,gBAA95F,GAAi7FzF,KAAKC,SAASmD,YAAYpD,KAA38F,IAAo9FlB,EAAE,GAAGiB,EAAE,GAAGoD,EAAEuC,EAAEtD,OAAO/C,EAAEqG,EAAErD,QAAQvD,EAAEqE,EAAEuC,EAAEtD,OAAOrC,EAAEV,EAAEqG,EAAErD,SAASjB,QAAQC,MAAM,sDAAsDxC,EAAE+G,YAAY/G,EAAEgH,iBAAiBH,EAAEP,iBAAiBtG,EAAE+G,YAAY/G,EAAEiH,oBAAoBJ,EAAEV,QAAQ,EAAE,GAAGnG,EAAE+G,YAAY/G,EAAEkH,+BAA+BL,EAAEN,iBAAiB,EAAE,GAAG3F,aAAauG,WAAWvG,aAAawG,kBAAkBxG,aAAayG,mBAAmBzG,aAAa0G,iBAAiBtH,EAAE0I,cAAc1I,EAAE2D,WAAW5C,EAAEd,EAAEiB,EAAE2F,EAAE/C,YAAY+C,EAAE9C,SAASnD,GAAGZ,EAAE0I,cAAc1I,EAAE2D,WAAW5C,EAAEd,EAAEiB,EAAEoD,EAAE9D,EAAEqG,EAAE/C,YAAY+C,EAAE9C,SAASnD,GAAGO,KAAKC,SAASmD,YAAYtD,EAAphH,K,4BAAyhH,WAAiB,IAAMF,EAAEI,KAAK6E,YAAYjF,EAAEqF,YAAYrF,EAAEqF,WAAU,EAAGjF,KAAK8E,oBAAmB,EAAGzF,EAAEsG,iBAAiB3F,KAAKC,SAASL,IAAI,OAAOA,EAAEsE,cAAclE,KAAK8E,oBAAmB,EAAGlF,EAAEsE,aAAa,MAAM,OAAOtE,EAAEsE,eAAelE,KAAK8E,oBAAmB,EAAGlF,EAAEsE,aAAa,MAAM,IAAMpF,EAAEkB,KAAKC,SAASwF,gBAAr0H,GAAw1HzF,KAAKC,SAASmD,YAAYpD,KAAl3H,GAA03H,IAAMD,EAAEC,KAAKC,SAAS8B,GAAGhC,EAAEwG,eAAexG,EAAEyC,YAAYxC,KAAKC,SAASmD,YAAYtE,EAA58H,K,6BAAi9H,SAAgBc,GAAGA,IAAII,KAAK6E,YAAYX,eAAelE,KAAK6E,YAAYX,aAAatE,EAAEP,EAAEsG,iBAAiB3F,KAAKC,SAASD,KAAK6E,aAAa7E,KAAK8E,oBAAmB,K,yBAAI,SAAYlF,GAAGA,IAAII,KAAK6E,YAAYV,WAAWnE,KAAK6E,YAAYV,SAASvE,EAAEP,EAAEsG,iBAAiB3F,KAAKC,SAASD,KAAK6E,aAAa7E,KAAK+E,gBAAe,K,0BAAI,WAAe,IAAMnF,EAAEI,KAAKC,SAAS8B,GAAGjD,EAAEkB,KAAK6E,YAAY7E,KAAK8E,qBAAqBzF,EAAE+H,mBAAmBxH,EAAEd,GAAGkB,KAAK8E,oBAAmB,GAAI9E,KAAK+E,iBAAiB1F,EAAEgI,eAAezH,EAAEd,GAAGkB,KAAK+E,gBAAe,M,+BAAI,SAAwBnF,EAAEuD,IAAIA,EAAEf,MAAM,GAAGe,EAAEd,OAAO,IAAIjB,QAAQC,MAAM,kDAAkD,IAAM1B,EAAEb,YAAEqE,EAAEf,QAAQtD,YAAEqE,EAAEd,QAAQtC,YAAEH,EAAEmC,KAAKpC,IAAI,iBAAiBwD,EAAEgB,SAAS,QAAQhB,EAAEgB,UAAU/C,QAAQC,MAAM,qEAAqE,QAAQ8B,EAAEgB,SAASxE,GAAG,QAAQwD,EAAEgB,SAASvE,GAAGwB,QAAQC,MAAM,qEAAqE8B,EAAE8B,WAAW7D,QAAQC,MAAM,iD,gCAA+C,SAA0BzB,EAAEd,GAAG,IAAIiB,EAAEjB,EAAEoF,aAAaf,EAAErE,EAAEoF,aAAa,OAAOnE,GAAG,OAAOA,GAAGA,EAAE,KAAKjB,EAAEmG,YAAY9B,EAAE,OAAO,OAAOpD,GAAG,OAAOA,IAAIA,EAAE,KAAKjB,EAAEmG,YAAY9B,EAAE,OAAOvD,EAAE4H,cAAc5H,EAAE4C,WAAW5C,EAAE6H,mBAAmB1H,GAAGH,EAAE4H,cAAc5H,EAAE4C,WAAW5C,EAAE8H,mBAAmBvE,K,4BAAG,SAAsBvD,EAAEd,GAAG,iBAAiBA,EAAEqF,UAAUvE,EAAE4H,cAAc5H,EAAE4C,WAAW5C,EAAE+H,eAAe7I,EAAEqF,UAAUvE,EAAE4H,cAAc5H,EAAE4C,WAAW5C,EAAEgI,eAAe9I,EAAEqF,YAAYvE,EAAE4H,cAAc5H,EAAE4C,WAAW5C,EAAE+H,eAAe7I,EAAEqF,SAASxE,GAAGC,EAAE4H,cAAc5H,EAAE4C,WAAW5C,EAAEgI,eAAe9I,EAAEqF,SAASvE,M,kDAAI,SAA4CA,EAAEd,GAAG,GAAG,MAAMA,EAAE+I,cAAX,CAAgC,IAAM9H,EAAEH,EAAE6B,aAAaqG,yBAAyB,GAAI/H,EAAJ,CAAa,IAAMoD,EAAEvD,EAAEmC,GAAGoB,EAAE4E,cAAc5E,EAAEX,WAAWzC,EAAEiI,uBAAuBlJ,EAAE+I,qB,KAA4FxI,O,iCCAx2LR,IAA9G,SAAWA,GAAG,OAAOH,OAAOuJ,wBAAwBpJ,aAAaH,OAAOuJ,yB,mDCAlErI,E,WAAE,WAAYA,EAAEd,GAAE,oBAACkB,KAAKC,SAASL,EAAEI,KAAKQ,MAAM1B,EAAEkB,KAAKC,SAASQ,gBAAgBC,UAAU,EAAEV,MAAM,IAAMD,EAAEC,KAAKC,SAAS8B,GAAG/B,KAAKyC,OAAO1C,EAAEmI,qBAAqBlI,KAAKC,SAASkI,iBAAiBnI,MAAMD,EAAEqI,oBAAoBrI,EAAEkD,aAAanE,EAAEgE,eAAehE,EAAEsD,MAAMtD,EAAEuD,Q,4CAAQ,WAAiB,OAAOrC,KAAKQ,Q,oBAAM,SAAOZ,EAAEd,GAAG,IAAMiB,EAAEC,KAAKQ,MAAM,GAAGT,EAAEqC,QAAQxC,GAAGG,EAAEsC,SAASvD,EAA3B,CAAoCiB,EAAEqC,MAAMxC,EAAEG,EAAEsC,OAAOvD,EAAE,IAAMD,EAAEmB,KAAKC,SAAS8B,GAAG/B,KAAKC,SAASkI,iBAAiBnI,MAAMnB,EAAEuJ,oBAAoBvJ,EAAEoE,aAAalD,EAAE+C,eAAe/C,EAAEqC,MAAMrC,EAAEsC,W,qBAAQ,WAAUrC,KAAKC,WAAWD,KAAKC,SAAS8B,GAAGuC,mBAAmBtE,KAAKyC,QAAQzC,KAAKC,SAASQ,gBAAgByB,UAAU,EAAElC,MAAMA,KAAKC,SAAS,U,KAAsBL","file":"static/js/1.6424608c.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nvar e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,n,o){return e(o={path:n,exports:{},require:function(e,n){return r(e,null==n?o.path:n)}},o.exports),o.exports}function r(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}export{e as a,r as b,o as c,n as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import t from\"../../core/Logger.js\";import e from\"./Texture.js\";import i from\"./Renderbuffer.js\";const s=t.getLogger(\"esri.views.webgl.FrameBufferObject\");class r{constructor(t,s,h,n){if(this._context=t,this._glName=null,this._depthAttachment=null,this._stencilAttachment=null,this._colorAttachments=new Map,this._initialized=!1,this._desc={...s},t.instanceCounter.increment(4,this),h){let i;var o;if(Array.isArray(h))for(const s of h){const{attachmentPoint:r,texture:h}=s,n=h instanceof e?h:new e(t,h);i=n.descriptor,this._colorAttachments.set(r,n),this._validateColorAttachmentPoint(r),this._validateTextureDimensions(i,this._desc)}else h instanceof e?(i=h.descriptor,this._colorAttachments.set(36064,h)):(i=h,this._colorAttachments.set(36064,new e(t,h))),0!==(null==(o=this._desc)?void 0:o.colorTarget)&&console.error(\"Framebuffer is initialized with a texture however the descriptor indicates using a renderbuffer color attachment!\"),this._validateTextureDimensions(i,this._desc)}if(n instanceof i){var c;const t=null!=(c=this._desc.depthStencilTarget)?c:3;2===t?this._stencilAttachment=n:1===t||3===t?this._depthAttachment=n:console.error('If a Renderbuffer is provided, \"depthStencilTarget\" must be one of STENCIL_RENDER_BUFFER, DEPTH_RENDER_BUFFER or DEPTH_STENCIL_RENDER_BUFFER'),r._validateBufferDimensions(n.descriptor,this._desc)}else if(n){let t;this._context.capabilities.depthTexture||console.error(\"Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!\"),n instanceof e?(this._depthStencilTexture=n,t=this._depthStencilTexture.descriptor):(t=n,this._depthStencilTexture=new e(this._context,t)),this._validateTextureDimensions(t,this._desc)}}dispose(){if(!this._desc)return;const t=this._context.getBoundFramebufferObject();if(this._disposeColorAttachments(),this._disposeDepthStencilAttachments(),this._glName){this._context.gl.deleteFramebuffer(this._glName),this._glName=null}this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(4,this),this._desc=null}get glName(){return this._glName}get descriptor(){return this._desc}get colorTexture(){const t=this._colorAttachments.get(36064);return t&&t instanceof e?t:null}get colorAttachment(){return this._colorAttachments.get(36064)}get depthStencilAttachment(){return this._depthStencilTexture||this._depthAttachment||this._stencilAttachment}get depthStencilTexture(){return this._depthStencilTexture}get width(){return this._desc.width}get height(){return this._desc.height}getColorTexture(t){const i=this._colorAttachments.get(t);return i&&i instanceof e?i:null}attachColorTexture(t,e=36064){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;if(this._validateTextureDimensions(i,this._desc),this._disposeColorAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl;i.framebufferTexture2D(i.FRAMEBUFFER,e,i.TEXTURE_2D,t.glName,0)}this._colorAttachments.set(e,t)}detachColorTexture(t=36064){const i=this._colorAttachments.get(t);if(i instanceof e){const e=i;if(this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl;e.framebufferTexture2D(e.FRAMEBUFFER,t,e.TEXTURE_2D,null,0)}return this._colorAttachments.delete(t),e}}attachDepthStencilTexture(t){if(!t)return;const e=t.descriptor;if(34041!==e.pixelFormat&&console.error(\"Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!\"),34042!==e.dataType&&console.error(\"Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!\"),this._context.capabilities.depthTexture||console.error(\"Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!\"),this._validateTextureDimensions(e,this._desc),this._desc.depthStencilTarget&&4!==this._desc.depthStencilTarget&&(this._desc.depthStencilTarget=4),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,t.glName,0)}this._depthStencilTexture=t}detachDepthStencilTexture(){const t=this._depthStencilTexture;if(t&&this._initialized){this._context.bindFramebuffer(this);const t=this._context.gl;this._context.gl.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,null,0)}return this._depthStencilTexture=null,t}attachDepthStencilBuffer(t){if(!t)return;const e=t.descriptor;if(34041!==e.internalFormat&&33189!==e.internalFormat&&console.error(\"Depth/Stencil buffer must have correct internalFormat\"),r._validateBufferDimensions(e,this._desc),this._disposeDepthStencilAttachments(),this._desc.depthStencilTarget=34041===e.internalFormat?3:1,this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=1===this._desc.depthStencilTarget?e.DEPTH_ATTACHMENT:e.DEPTH_STENCIL_ATTACHMENT;e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,t.glName)}this._depthAttachment=t}detachDepthStencilBuffer(){const t=this._context.gl,e=this._depthAttachment;if(e&&this._initialized){this._context.bindFramebuffer(this);const e=1===this._desc.depthStencilTarget?t.DEPTH_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT;t.framebufferRenderbuffer(t.FRAMEBUFFER,e,t.RENDERBUFFER,null)}return this._depthAttachment=null,e}copyToTexture(t,e,i,s,r,h,n){(t<0||e<0||r<0||h<0)&&console.error(\"Offsets cannot be negative!\"),(i<=0||s<=0)&&console.error(\"Copy width and height must be greater than zero!\");const o=this._desc,c=n.descriptor;3553!==n.descriptor.target&&console.error(\"Texture target must be TEXTURE_2D!\"),(t+i>o.width||e+s>o.height||r+i>c.width||h+s>c.height)&&console.error(\"Bad dimensions, the current input values will attempt to read or copy out of bounds!\");const a=this._context;a.bindTexture(n,0),a.bindFramebuffer(this),a.gl.copyTexSubImage2D(3553,0,r,h,t,e,i,s)}readPixels(t,e,i,s,r,h,n){(i<=0||s<=0)&&console.error(\"Copy width and height must be greater than zero!\"),n||console.error(\"Target memory is not initialized!\"),this._context.bindFramebuffer(this);this._context.gl.readPixels(t,e,i,s,r,h,n)}resize(t,e){const i=this._desc;if(i.width!==t||i.height!==e){if(!this._initialized)return i.width=t,i.height=e,this._colorAttachments.forEach((i=>{i&&i.resize(t,e)})),void(this._depthStencilTexture&&this._depthStencilTexture.resize(t,e));i.width=t,i.height=e,this._colorAttachments.forEach((i=>{i&&i.resize(t,e)})),null!=this._depthStencilTexture?this._depthStencilTexture.resize(t,e):(this._depthAttachment||this._stencilAttachment)&&(this._depthAttachment&&this._depthAttachment.resize(t,e),this._stencilAttachment&&this._stencilAttachment.resize(t,e)),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1}}initializeAndBind(){var t,s,r,n;const o=this._context.gl;if(this._initialized)return void o.bindFramebuffer(o.FRAMEBUFFER,this.glName);this._glName&&o.deleteFramebuffer(this._glName);const c=this._context,a=o.createFramebuffer(),l=this._desc,_=null!=(t=l.colorTarget)?t:1,d=null!=(s=l.width)?s:1,f=null!=(r=l.height)?r:1;if(o.bindFramebuffer(o.FRAMEBUFFER,a),0===this._colorAttachments.size)if(0===_)this._colorAttachments.set(36064,h(c,l));else{const t=new i(c,{internalFormat:32854,width:d,height:f});this._colorAttachments.set(36064,t)}this._colorAttachments.forEach(((t,i)=>{t&&(t instanceof e?o.framebufferTexture2D(o.FRAMEBUFFER,i,o.TEXTURE_2D,t.glName,0):o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.RENDERBUFFER,t.glName))}));const u=null!=(n=l.depthStencilTarget)?n:0;switch(u){case 1:case 3:{this._depthAttachment||(this._depthAttachment=new i(c,{internalFormat:1===l.depthStencilTarget?33189:34041,width:d,height:f}));const t=1===u?o.DEPTH_ATTACHMENT:o.DEPTH_STENCIL_ATTACHMENT;o.framebufferRenderbuffer(o.FRAMEBUFFER,t,o.RENDERBUFFER,this._depthAttachment.glName);break}case 2:this._stencilAttachment||(this._stencilAttachment=new i(c,{internalFormat:36168,width:d,height:f})),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.STENCIL_ATTACHMENT,o.RENDERBUFFER,this._stencilAttachment.glName);break;case 4:if(!this._depthStencilTexture){c.capabilities.depthTexture||console.error(\"Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!\");const t={target:3553,pixelFormat:34041,dataType:34042,samplingMode:9728,wrapMode:33071,width:d,height:f};this._depthStencilTexture=new e(c,t)}o.framebufferTexture2D(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.TEXTURE_2D,this._depthStencilTexture.glName,0)}this._glName=a,this._initialized=!0}_disposeColorAttachments(){this._colorAttachments.forEach(((t,i)=>{if(t instanceof e){if(this._initialized){this._context.bindFramebuffer(this);const t=this._context.gl;t.framebufferTexture2D(t.FRAMEBUFFER,i,t.TEXTURE_2D,null,0)}t.dispose()}else if(t instanceof WebGLRenderbuffer){const e=this._context.gl;this._initialized&&(this._context.bindFramebuffer(this),e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,null)),this._context.gl.deleteRenderbuffer(t)}})),this._colorAttachments.clear()}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthAttachment){if(this._initialized){this._context.bindFramebuffer(this);const e=1===this._desc.depthStencilTarget?t.DEPTH_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT;t.framebufferRenderbuffer(t.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthAttachment.dispose(),this._depthAttachment=null}this._stencilAttachment&&(this._initialized&&(this._context.bindFramebuffer(this),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,null)),this._stencilAttachment.dispose(),this._stencilAttachment=null),this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,null,0)),this._depthStencilTexture.dispose(),this._depthStencilTexture=null)}static _validateBufferDimensions(t,e){console.assert(t.width>=0&&t.height>=0),void 0!==e.width&&e.width>=0&&void 0!==e.height&&e.height>=0?e.width===t.width&&e.height===t.height||console.error(\"Renderbuffer dimensions must match the framebuffer's!\"):(e.width=t.width,e.height=t.height)}_validateTextureDimensions(t,e){console.assert(t.width>=0&&t.height>=0),3553!==t.target&&console.error(\"Texture type must be TEXTURE_2D!\"),void 0!==e.width&&e.width>=0&&void 0!==e.height&&e.height>=0?e.width===t.width&&e.height===t.height||console.error(\"Color attachment texture must match the framebuffer's!\"):(e.width=t.width,e.height=t.height)}_validateColorAttachmentPoint(t){if(-1===r._MAX_COLOR_ATTACHMENTS){const t=this._context.capabilities.drawBuffers;if(t){const e=this._context.gl;r._MAX_COLOR_ATTACHMENTS=e.getParameter(t.MAX_COLOR_ATTACHMENTS)}else r._MAX_COLOR_ATTACHMENTS=1}const e=t-36064;e+1>r._MAX_COLOR_ATTACHMENTS&&s.error(\"esri.FrameBufferObject\",`illegal attachment point for color attachment: ${e+1}. Implementation supports up to ${r._MAX_COLOR_ATTACHMENTS} color attachments`)}}r._MAX_COLOR_ATTACHMENTS=-1;const h=(t,i)=>new e(t,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:i.width,height:i.height});export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"./_commonjsHelpers.js\";var r=e((function(e){var r;void 0!==(r=[\"precision\",\"highp\",\"mediump\",\"lowp\",\"attribute\",\"const\",\"uniform\",\"varying\",\"break\",\"continue\",\"do\",\"for\",\"while\",\"if\",\"else\",\"in\",\"out\",\"inout\",\"float\",\"int\",\"void\",\"bool\",\"true\",\"false\",\"discard\",\"return\",\"mat2\",\"mat3\",\"mat4\",\"vec2\",\"vec3\",\"vec4\",\"ivec2\",\"ivec3\",\"ivec4\",\"bvec2\",\"bvec3\",\"bvec4\",\"sampler1D\",\"sampler2D\",\"sampler3D\",\"samplerCube\",\"sampler1DShadow\",\"sampler2DShadow\",\"struct\",\"asm\",\"class\",\"union\",\"enum\",\"typedef\",\"template\",\"this\",\"packed\",\"goto\",\"switch\",\"default\",\"inline\",\"noinline\",\"volatile\",\"public\",\"static\",\"extern\",\"external\",\"interface\",\"long\",\"short\",\"double\",\"half\",\"fixed\",\"unsigned\",\"input\",\"output\",\"hvec2\",\"hvec3\",\"hvec4\",\"dvec2\",\"dvec3\",\"dvec4\",\"fvec2\",\"fvec3\",\"fvec4\",\"sampler2DRect\",\"sampler3DRect\",\"sampler2DRectShadow\",\"sizeof\",\"cast\",\"namespace\",\"using\"])&&(e.exports=r)})),t=e((function(e){var r;void 0!==(r=[\"<<=\",\">>=\",\"++\",\"--\",\"<<\",\">>\",\"<=\",\">=\",\"==\",\"!=\",\"&&\",\"||\",\"+=\",\"-=\",\"*=\",\"/=\",\"%=\",\"&=\",\"^^\",\"^=\",\"|=\",\"(\",\")\",\"[\",\"]\",\".\",\"!\",\"~\",\"*\",\"/\",\"%\",\"+\",\"-\",\"<\",\">\",\"&\",\"^\",\"|\",\"?\",\":\",\"=\",\",\",\";\",\"{\",\"}\"])&&(e.exports=r)})),o=e((function(e){var r;void 0!==(r=[\"abs\",\"acos\",\"all\",\"any\",\"asin\",\"atan\",\"ceil\",\"clamp\",\"cos\",\"cross\",\"dFdx\",\"dFdy\",\"degrees\",\"distance\",\"dot\",\"equal\",\"exp\",\"exp2\",\"faceforward\",\"floor\",\"fract\",\"gl_BackColor\",\"gl_BackLightModelProduct\",\"gl_BackLightProduct\",\"gl_BackMaterial\",\"gl_BackSecondaryColor\",\"gl_ClipPlane\",\"gl_ClipVertex\",\"gl_Color\",\"gl_DepthRange\",\"gl_DepthRangeParameters\",\"gl_EyePlaneQ\",\"gl_EyePlaneR\",\"gl_EyePlaneS\",\"gl_EyePlaneT\",\"gl_Fog\",\"gl_FogCoord\",\"gl_FogFragCoord\",\"gl_FogParameters\",\"gl_FragColor\",\"gl_FragCoord\",\"gl_FragData\",\"gl_FragDepth\",\"gl_FragDepthEXT\",\"gl_FrontColor\",\"gl_FrontFacing\",\"gl_FrontLightModelProduct\",\"gl_FrontLightProduct\",\"gl_FrontMaterial\",\"gl_FrontSecondaryColor\",\"gl_LightModel\",\"gl_LightModelParameters\",\"gl_LightModelProducts\",\"gl_LightProducts\",\"gl_LightSource\",\"gl_LightSourceParameters\",\"gl_MaterialParameters\",\"gl_MaxClipPlanes\",\"gl_MaxCombinedTextureImageUnits\",\"gl_MaxDrawBuffers\",\"gl_MaxFragmentUniformComponents\",\"gl_MaxLights\",\"gl_MaxTextureCoords\",\"gl_MaxTextureImageUnits\",\"gl_MaxTextureUnits\",\"gl_MaxVaryingFloats\",\"gl_MaxVertexAttribs\",\"gl_MaxVertexTextureImageUnits\",\"gl_MaxVertexUniformComponents\",\"gl_ModelViewMatrix\",\"gl_ModelViewMatrixInverse\",\"gl_ModelViewMatrixInverseTranspose\",\"gl_ModelViewMatrixTranspose\",\"gl_ModelViewProjectionMatrix\",\"gl_ModelViewProjectionMatrixInverse\",\"gl_ModelViewProjectionMatrixInverseTranspose\",\"gl_ModelViewProjectionMatrixTranspose\",\"gl_MultiTexCoord0\",\"gl_MultiTexCoord1\",\"gl_MultiTexCoord2\",\"gl_MultiTexCoord3\",\"gl_MultiTexCoord4\",\"gl_MultiTexCoord5\",\"gl_MultiTexCoord6\",\"gl_MultiTexCoord7\",\"gl_Normal\",\"gl_NormalMatrix\",\"gl_NormalScale\",\"gl_ObjectPlaneQ\",\"gl_ObjectPlaneR\",\"gl_ObjectPlaneS\",\"gl_ObjectPlaneT\",\"gl_Point\",\"gl_PointCoord\",\"gl_PointParameters\",\"gl_PointSize\",\"gl_Position\",\"gl_ProjectionMatrix\",\"gl_ProjectionMatrixInverse\",\"gl_ProjectionMatrixInverseTranspose\",\"gl_ProjectionMatrixTranspose\",\"gl_SecondaryColor\",\"gl_TexCoord\",\"gl_TextureEnvColor\",\"gl_TextureMatrix\",\"gl_TextureMatrixInverse\",\"gl_TextureMatrixInverseTranspose\",\"gl_TextureMatrixTranspose\",\"gl_Vertex\",\"greaterThan\",\"greaterThanEqual\",\"inversesqrt\",\"length\",\"lessThan\",\"lessThanEqual\",\"log\",\"log2\",\"matrixCompMult\",\"max\",\"min\",\"mix\",\"mod\",\"normalize\",\"not\",\"notEqual\",\"pow\",\"radians\",\"reflect\",\"refract\",\"sign\",\"sin\",\"smoothstep\",\"sqrt\",\"step\",\"tan\",\"texture2D\",\"texture2DLod\",\"texture2DProj\",\"texture2DProjLod\",\"textureCube\",\"textureCubeLod\",\"texture2DLodEXT\",\"texture2DProjLodEXT\",\"textureCubeLodEXT\",\"texture2DGradEXT\",\"texture2DProjGradEXT\",\"textureCubeGradEXT\"])&&(e.exports=r)}));export{o as b,r as l,t as o};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/Error.js\";r.getLogger(\"esri/views/webgl\");function o(r){}export{o as checkWebGLError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../core/maybe.js\";import{isPowerOfTwo as e}from\"../../core/mathUtils.js\";import i from\"./capabilities/isWebGL2Context.js\";const a=4,s=0;class o{constructor(t,e,i=null){this._context=null,this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(0,this),this._context=t,this._descriptor={target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1,...e},this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}dispose(){if(this._context&&this._context.gl){if(this._glName){const t=this._context.gl;this._context.unbindTextureAllUnits(this),t.deleteTexture(this._glName),this._glName=null}this._context.instanceCounter.decrement(0,this),this._context=null}}release(){this.dispose()}resize(t,e){const i=this._descriptor;i.width===t&&i.height===e||(i.width=t,i.height=e,this.setData(null))}setData(e){if(!this._context||!this._context.gl)return;const i=this._context.gl;this._glName||(this._glName=i.createTexture()),void 0===e&&(e=null),null===e&&(this._descriptor.width=this._descriptor.width||a,this._descriptor.height=this._descriptor.height||a);const n=this._context.getBoundTexture(s);this._context.bindTexture(this,s);const p=this._descriptor;o._validateTexture(this._context,p),i.pixelStorei(i.UNPACK_ALIGNMENT,p.unpackAlignment),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,p.flipped?1:0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.preMultiplyAlpha?1:0);const h=p.pixelFormat;let l=p.internalFormat?p.internalFormat:h;if(e instanceof ImageData||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement){let t=e.width,a=e.height;e instanceof HTMLVideoElement&&(t=e.videoWidth,a=e.videoHeight),p.width&&p.height&&console.assert(t===p.width&&a===p.height),i.texImage2D(i.TEXTURE_2D,0,l,h,p.dataType,e),p.hasMipmap&&this.generateMipmap(),void 0===p.width&&(p.width=t),void 0===p.height&&(p.height=a)}else{null!=p.width&&null!=p.height||console.error(\"Width and height must be specified!\"),i.DEPTH24_STENCIL8&&l===i.DEPTH_STENCIL&&(l=i.DEPTH24_STENCIL8);let a=p.width,s=p.height;if(r(e)){const t=Math.round(Math.log(Math.max(a,s))/Math.LN2)+1;p.hasMipmap=p.hasMipmap&&t===e.levels.length;for(let o=0;;++o){const t=e.levels[Math.min(o,e.levels.length-1)];if(i.compressedTexImage2D(i.TEXTURE_2D,o,l,a,s,0,t),1===a&&1===s||!p.hasMipmap)break;a=Math.max(1,a>>1),s=Math.max(1,s>>1)}}else if(t(e))i.texImage2D(i.TEXTURE_2D,0,l,a,s,0,h,p.dataType,e),p.hasMipmap&&this.generateMipmap();else for(let t=0;i.texImage2D(i.TEXTURE_2D,t,l,a,s,0,h,p.dataType,null),(1!==a||1!==s)&&p.hasMipmap;++t)a=Math.max(1,a>>1),s=Math.max(1,s>>1)}o._applySamplingMode(i,this._descriptor),o._applyWrapMode(i,this._descriptor),o._applyAnisotropicFilteringParameters(this._context,this._descriptor),n&&this._context.bindTexture(n,s)}updateData(t,e,i,a,o,r){r||console.error(\"An attempt to use uninitialized data!\"),this._glName||console.error(\"An attempt to update uninitialized texture!\");const n=this._context.gl,p=this._descriptor,h=this._context.getBoundTexture(s);this._context.bindTexture(this,s),(e<0||i<0||a>p.width||o>p.height||e+a>p.width||i+o>p.height)&&console.error(\"An attempt to update out of bounds of the texture!\"),n.pixelStorei(n.UNPACK_ALIGNMENT,p.unpackAlignment),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,p.flipped?1:0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.preMultiplyAlpha?1:0),r instanceof ImageData||r instanceof HTMLImageElement||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement?n.texSubImage2D(n.TEXTURE_2D,t,e,i,p.pixelFormat,p.dataType,r):n.texSubImage2D(n.TEXTURE_2D,t,e,i,a,o,p.pixelFormat,p.dataType,r),this._context.bindTexture(h,s)}generateMipmap(){const t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,o._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);const e=this._context.getBoundTexture(s);this._context.bindTexture(this,s);const i=this._context.gl;i.generateMipmap(i.TEXTURE_2D),this._context.bindTexture(e,s)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,o._validateTexture(this._context,this._descriptor),this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,o._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._context.gl,e=this._descriptor;this._samplingModeDirty&&(o._applySamplingMode(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(o._applyWrapMode(t,e),this._wrapModeDirty=!1)}static _validateTexture(t,a){(a.width<0||a.height<0)&&console.error(\"Negative dimension parameters are not allowed!\");const s=e(a.width)&&e(a.height);i(t.gl)||s||(\"number\"==typeof a.wrapMode?33071!==a.wrapMode&&console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"):33071===a.wrapMode.s&&33071===a.wrapMode.t||console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"),a.hasMipmap&&console.error(\"Mipmapping requires power-of-two textures!\"))}static _applySamplingMode(t,e){let i=e.samplingMode,a=e.samplingMode;9985===i||9987===i?(i=9729,e.hasMipmap||(a=9729)):9984!==i&&9986!==i||(i=9728,e.hasMipmap||(a=9728)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a)}static _applyWrapMode(t,e){\"number\"==typeof e.wrapMode?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,e.wrapMode.t))}static _applyAnisotropicFilteringParameters(t,e){if(null==e.maxAnisotropy)return;const i=t.capabilities.textureFilterAnisotropic;if(!i)return;const a=t.gl;a.texParameterf(a.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy)}}function r(e){return t(e)&&\"type\"in e&&\"compressed\"===e.type}export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(n){return window.WebGL2RenderingContext&&n instanceof window.WebGL2RenderingContext}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e){this._context=t,this._desc=e,this._context.instanceCounter.increment(5,this);const i=this._context.gl;this.glName=i.createRenderbuffer(),this._context.bindRenderbuffer(this),i.renderbufferStorage(i.RENDERBUFFER,e.internalFormat,e.width,e.height)}get descriptor(){return this._desc}resize(t,e){const i=this._desc;if(i.width===t&&i.height===e)return;i.width=t,i.height=e;const n=this._context.gl;this._context.bindRenderbuffer(this),n.renderbufferStorage(n.RENDERBUFFER,i.internalFormat,i.width,i.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(5,this),this._context=null)}}export default t;\n"],"sourceRoot":""}